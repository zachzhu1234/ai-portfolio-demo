<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Salary Estimator</title>
    <!-- Load Tailwind CSS for modern styling and responsiveness -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 16px;
        }
    </style>
</head>
<body>

    <div id="app-container" class="w-full max-w-lg bg-white p-6 md:p-10 rounded-xl shadow-2xl border border-gray-100">

        <!-- Loading Indicator -->
        <div id="loading-indicator" class="hidden text-center p-8">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"></div>
            <p class="mt-4 text-gray-600">Simulating complex AI calculations and analyzing market data...</p>
        </div>
        
        <!-- Screen 1: Input Form -->
        <div id="input-screen">
            <h1 class="text-3xl font-extrabold text-indigo-700 mb-6 text-center">
                âœ¨ AI Salary Potential Estimator âœ¨
            </h1>
            <p class="text-gray-500 mb-8 text-center">
                (Simulated LLM-Powered Analysis)
            </p>

            <!-- Dropdown: Age -->
            <label for="age" class="block text-sm font-medium text-gray-700 mb-1">Age Range</label>
            <select id="age" class="w-full p-3 mb-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 transition duration-150">
                <option value="20-25">20 - 25</option>
                <option value="26-35" selected>26 - 35</option>
                <option value="36-45">36 - 45</option>
                <option value="45+">45+</option>
            </select>

            <!-- Dropdown: Years of Experience -->
            <label for="experience" class="block text-sm font-medium text-gray-700 mb-1">Years of Experience</label>
            <select id="experience" class="w-full p-3 mb-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 transition duration-150">
                <option value="0-2">0 - 2 Years (Junior)</option>
                <option value="3-5" selected>3 - 5 Years (Mid)</option>
                <option value="6-10">6 - 10 Years (Senior)</option>
                <option value="10+">10+ Years (Expert)</option>
            </select>

            <!-- Dropdown: Technical Skills -->
            <label for="skills" class="block text-sm font-medium text-gray-700 mb-1">Technical Skills</label>
            <select id="skills" class="w-full p-3 mb-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 transition duration-150">
                <option value="Full Stack Development">Full Stack Development</option>
                <option value="Data Science/AI" selected>Data Science/AI</option>
                <option value="Cloud Engineering">Cloud Engineering</option>
                <option value="Mobile Development">Mobile Development</option>
            </select>

            <!-- Dropdown: State where you live -->
            <label for="location" class="block text-sm font-medium text-gray-700 mb-1">Location (Major Tech Hubs)</label>
            <select id="location" class="w-full p-3 mb-6 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 transition duration-150">
                <option value="Silicon Valley, CA" selected>Silicon Valley, CA</option>
                <option value="New York, NY">New York, NY</option>
                <option value="Seattle, WA">Seattle, WA</option>
                <option value="Austin, TX">Austin, TX</option>
                <option value="Non-US Major City">Non-US Major City</option>
            </select>

            <button id="start-button" class="w-full bg-indigo-600 text-white font-semibold py-3 rounded-xl hover:bg-indigo-700 transition duration-200 shadow-md">
                ðŸ’¼ Estimate Salary Potential (Start)
            </button>
        </div>

        <!-- Screen 2: Results -->
        <div id="results-screen" class="hidden text-center">
            <h2 class="text-3xl font-bold text-green-600 mb-4">
                Salary Potential Forecast
            </h2>
            <div class="bg-indigo-50 p-6 rounded-xl mb-6 shadow-inner">
                <p class="text-lg text-gray-600">Based on your input, the AI forecasts your salary potential as:</p>
                <p id="salary-result" class="text-5xl font-extrabold text-indigo-700 mt-2 mb-4">
                    --
                </p>
            </div>

            <div class="bg-gray-100 p-4 rounded-lg mb-8 text-left">
                <h3 class="text-xl font-semibold text-gray-800 mb-2">AI Justification:</h3>
                <p id="justification-text" class="text-gray-600 leading-relaxed italic">
                    --
                </p>
            </div>

            <button id="return-button" class="w-full bg-gray-500 text-white font-semibold py-3 rounded-xl hover:bg-gray-600 transition duration-200">
                Return (Go Back)
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const inputScreen = document.getElementById('input-screen');
            const resultsScreen = document.getElementById('results-screen');
            const startButton = document.getElementById('start-button');
            const returnButton = document.getElementById('return-button');
            const loadingIndicator = document.getElementById('loading-indicator');
            const salaryResultEl = document.getElementById('salary-result');
            const justificationTextEl = document.getElementById('justification-text');

            // --- UI Helper Functions ---
            const showScreen = (screenToShow) => {
                inputScreen.classList.add('hidden');
                resultsScreen.classList.add('hidden');
                loadingIndicator.classList.add('hidden');
                document.getElementById(screenToShow).classList.remove('hidden');
            };

            /**
             * Simulated LLM function to calculate salary and justification.
             * This function replaces the unreliable API call with deterministic, variable logic
             * to demonstrate structured data processing.
             */
            async function simulateSalaryEstimate() {
                // Introduce a delay to mimic API latency (demonstrates async coding)
                await new Promise(resolve => setTimeout(resolve, 1500)); 

                // 1. Collect user inputs
                const age = document.getElementById('age').value;
                const experience = document.getElementById('experience').value;
                const skills = document.getElementById('skills').value;
                const location = document.getElementById('location').value;
                
                let baseSalary = 80000; // Starting base salary (USD)
                let multiplier = 1.0;
                let justification = "Based on entry-level parameters, your starting potential is competitive. Focus on skill development!";

                // 2. Adjust Multiplier based on Experience
                if (experience === '3-5') {
                    multiplier += 0.4; // Mid-level boost
                    justification = "Your solid experience foundation positions you well above the average. Market data indicates strong growth potential.";
                } else if (experience === '6-10') {
                    multiplier += 0.8; // Senior boost
                    justification = "As a highly experienced candidate, your salary reflects strong industry recognition and leadership capabilities.";
                } else if (experience === '10+') {
                    multiplier += 1.2; // Expert boost
                    justification = "With over a decade of expertise, your strategic value commands a premium in the global tech market.";
                }

                // 3. Adjust Multiplier based on Skills
                if (skills === 'Data Science/AI' || skills === 'Cloud Engineering') {
                    multiplier += 0.3; // High-demand skill boost
                    justification += " Furthermore, your high-demand **" + skills + "** expertise adds significant value, pushing your ceiling higher.";
                } else if (skills === 'Full Stack Development') {
                    multiplier += 0.15;
                    justification += " The versatility of your **" + skills + "** skills ensures a consistent and high market demand.";
                }

                // 4. Adjust Multiplier based on Location (Cost of Living/Tech Demand)
                if (location === 'Silicon Valley, CA' || location === 'New York, NY' || location === 'Seattle, WA') {
                    multiplier += 0.5; // High cost of living/tech concentration boost
                    justification += " Finally, your location in a premium market like **" + location + "** significantly adjusts the compensation floor upwards.";
                } else if (location === 'Austin, TX') {
                    multiplier += 0.25;
                    justification += " Your presence in the growing tech hub of **" + location + "** gives you excellent negotiating power.";
                }
                
                // 5. Final Calculation and Formatting
                const calculatedSalary = Math.round((baseSalary * multiplier) / 5000) * 5000; // Round to nearest $5,000 for a cleaner estimate
                const formattedSalary = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0,
                }).format(calculatedSalary);

                // Simulate the structured JSON output (demonstrates LLM structured response handling)
                return {
                    estimatedSalary: formattedSalary,
                    justification: justification
                };
            }

            // --- Event Handlers ---
            startButton.addEventListener('click', async () => {
                showScreen('loading-indicator');

                try {
                    // Call the simulated function
                    const data = await simulateSalaryEstimate();
                    
                    // Update UI with structured results
                    salaryResultEl.textContent = data.estimatedSalary;
                    justificationTextEl.textContent = data.justification;

                    showScreen('results-screen');
                } catch (error) {
                    console.error("Critical failure during simulation:", error);
                    // Show a friendly error/fallback message
                    salaryResultEl.textContent = "N/A";
                    justificationTextEl.textContent = "Sorry, an internal error occurred during calculation. (Please try again)."; 
                    showScreen('results-screen');
                }
            });

            returnButton.addEventListener('click', () => {
                showScreen('input-screen');
            });

            // Initial view
            showScreen('input-screen');
        });
    </script>
</body>
</html>
